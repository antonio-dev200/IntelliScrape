# AGENTS.md - AI 代理工作指南

欢迎！该文件旨在指导 AI 软件工程师（如我）如何更好地理解和参与本项目。请在此提供关键信息，以确保我能高效、准确地完成任务。

## 1. 项目概述 (Project Overview)

*   **项目名称:** (请填写项目名称)
*   **核心目标:** (请用一两句话描述该项目的核心业务目标和价值)
*   **技术栈:** (例如: Python 3.9, Flask, React, PostgreSQL)

## 2. 代码库结构 (Codebase Structure)

（请描述主要目录和文件的用途，帮助我快速定位代码。）

*   `src/`: 存放所有核心源代码。
*   `tests/`: 存放所有测试代码。
*   `docs/`: 存放所有文档，包括产品需求文档 (PRD)。
*   `scripts/`: 存放自动化脚本（例如：部署、数据迁移）。
*   `config/`: 存放配置文件。

## 3. 如何构建和运行 (How to Build and Run)

（请提供从零开始设置和运行本项目的确切命令。）

1.  **安装依赖:** `pip install -r requirements.txt`
2.  **数据库迁移 (如需要):** `python manage.py db upgrade`
3.  **运行开发服务器:** `python app.py`

## 4. 如何测试 (How to Test)

（请提供运行测试套件所需的确切命令。）

*   **运行所有单元测试:** `pytest tests/`
*   **运行特定测试文件:** `pytest tests/test_specific_feature.py`

## 5. 编码规范 (Coding Conventions)

（请列出项目遵循的编码风格和规范。）

*   **代码风格:** 请遵循 [PEP 8](https://www.python.org/dev/peps/pep-0008/) 规范。
*   **命名约定:**
    *   变量和函数名: `snake_case`
    *   类名: `PascalCase`
*   **注释:** 请为所有公共函数和复杂的逻辑块添加清晰的 Docstrings。
*   **中文注释:** 所有代码都必须为关键函数、类和复杂逻辑块添加详尽的中文注释，以方便人类与AI共同理解和维护。

## 6. 必须的检查 (Mandatory Checks)

（在请求代码审查或提交之前，我必须运行并通过以下所有检查。）

*   **代码格式化:** `black .`
*   **代码 Linter:** `flake8 src/`

---

## 7. 开发流程 (Development Process)

*   **理解并澄清 (Understand and Clarify):** 对于用户提出的任何功能或技术需求，必须首先进行深入理解，然后向用户复述自己的理解，以确保双方对目标的认知完全一致，之后才能进行设计或编码。

*   **执行-验证循环 (Execute-Verify Cycle):** 对于开发计划中的每一个步骤，都必须遵循“执行 -> 验证”的循环。
    *   **执行 (Execute):** 完成该步骤的编码或文件创建任务。
    *   **验证 (Verify):** 完成后，必须通过工具（如`ls -R`, `read_file`, 运行测试）来回顾和检查刚刚完成的工作，确保其产出与设计文档和既定目标完全一致，没有遗漏或错误。
    *   只有在验证通过后，才能认为该步骤已完成。

*   **自动提交 (Auto-Commit):** 每当独立完成一个有意义的任务单元（例如，完成一个开发计划的步骤并通过验证，或完成一个重要的修复），都应自动将相关的代码或文档变更提交到GitHub。此项工作是自主行为，无需在每次提交前征求用户同意，以提高协作效率。

*   **变更日志 (Changelog):** 在每次完成一个有意义的修改（如执行一个开发步骤、修复一个问题）后，必须在 `docs/changelog.md` 文件中追加一条清晰、可读的日志条目，简要描述本次变更的内容。

*最后更新于: 2024-01-01*
